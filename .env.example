# =============================================================================
# Medic Environment Variables
# Copy this file to .env and fill in your values
# =============================================================================

# =============================================================================
# DATABASE (Required)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=medic
PG_USER=medic
PG_PASS=your-secure-password-here

# =============================================================================
# APPLICATION (Optional - defaults shown)
# =============================================================================
PORT=8080
DEBUG=false
MEDIC_BASE_URL=http://localhost:8080
MEDIC_TIMEZONE=America/Chicago
LOG_LEVEL=INFO

# =============================================================================
# WORKER SETTINGS (Optional - defaults shown)
# =============================================================================
WORKER_INTERVAL_SECONDS=15
ALERT_AUTO_UNMUTE_HOURS=24
HEARTBEAT_RETENTION_DAYS=30

# =============================================================================
# REDIS (Required for distributed rate limiting)
# =============================================================================
# Connection URL for Redis (used by docker-compose automatically)
# REDIS_URL=redis://localhost:6379/0

# Rate limiter type: 'auto', 'redis', or 'memory'
# 'auto' (default): Use Redis if available, fallback to in-memory
# 'redis': Force Redis (fails if unavailable)
# 'memory': Force in-memory (single instance only)
MEDIC_RATE_LIMITER_TYPE=auto

# Redis connection pool size (default: 10)
# REDIS_POOL_SIZE=10

# =============================================================================
# SLACK INTEGRATION (Optional - for Slack notifications)
# =============================================================================
SLACK_API_TOKEN=xoxb-your-token-here
SLACK_CHANNEL_ID=C0123456789
SLACK_SIGNING_SECRET=your-signing-secret-here

# =============================================================================
# PAGERDUTY INTEGRATION (Optional - for PagerDuty alerts)
# =============================================================================
PAGERDUTY_ROUTING_KEY=your-routing-key-here

# =============================================================================
# SECURITY (Required for production)
# =============================================================================
# 32-byte base64-encoded key for encrypting secrets
# Generate with: python -c "import secrets; import base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
MEDIC_SECRETS_KEY=

# Secret for validating webhook signatures
MEDIC_WEBHOOK_SECRET=

# Comma-separated list of allowed hosts for webhook URLs (SSRF prevention)
# Leave empty to allow all non-private hosts
MEDIC_ALLOWED_WEBHOOK_HOSTS=

# =============================================================================
# RATE LIMITING (Optional - defaults shown)
# =============================================================================
# Requests per minute for different endpoint types
# RATE_LIMIT_HEALTH_REQUESTS=1000
# RATE_LIMIT_METRICS_REQUESTS=100
# RATE_LIMIT_DOCS_REQUESTS=60
