# =============================================================================
# Medic Slack App Manifest (Production)
# =============================================================================
# This manifest can be used to quickly create the Medic Slack app.
#
# To use:
#   1. Go to https://api.slack.com/apps
#   2. Click "Create New App"
#   3. Select "From an app manifest"
#   4. Select your workspace
#   5. Paste this YAML content
#   6. Review and create the app
#   7. Install to your workspace
#
# After creation, you'll need to:
#   - Upload the app icon: docs/assets/medic-icon-all-green.png
#     (Basic Information -> Display Information -> App Icon)
#   - Copy the Bot User OAuth Token -> SLACK_API_TOKEN
#   - Copy the Signing Secret -> SLACK_SIGNING_SECRET
#   - Update the interactivity URL to your production Medic instance
# =============================================================================

display_information:
  name: Medic
  description: Heartbeat monitoring and automated remediation service. Monitors service health, sends alerts, and manages playbook approvals.
  background_color: "#2C4356"
  long_description: |
    Medic is a heartbeat monitoring service that helps you keep track of your services' health.

    Features:
    - Heartbeat failure notifications with service details
    - Alert recovery notifications
    - Interactive playbook approval workflows (approve/decline buttons)
    - Integration with PagerDuty for escalation

    When a service misses its expected heartbeat, Medic will notify this channel with details about the failing service, including priority, team ownership, and links to runbooks.

features:
  bot_user:
    display_name: Medic
    always_online: true

oauth_config:
  scopes:
    bot:
      # Send messages to channels
      - chat:write
      # Send messages to public channels without being a member
      - chat:write.public

settings:
  interactivity:
    is_enabled: true
    # TODO: Update this URL to your production Medic instance
    # This endpoint handles button clicks for playbook approvals
    request_url: https://your-medic-instance.example.com/api/v1/slack/interactions

  org_deploy_enabled: false
  socket_mode_enabled: false
  token_rotation_enabled: false
