{{/* Migration job template removed â€” migrations now run as an init container
     on the API deployment (see api-deployment.yaml). This avoids Helm hook
     timeout issues caused by node scheduling delays (e.g. Karpenter) and
     eliminates the chicken-and-egg problem where the hook needs a
     ServiceAccount that doesn't exist until the chart is installed.

     The init container approach uses a PostgreSQL advisory lock so that
     only the first pod to start actually runs migrations; other pods
     wait for the lock then see all migrations are already applied. */}}
